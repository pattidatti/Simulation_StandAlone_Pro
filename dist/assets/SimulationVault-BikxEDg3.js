import{h as B,b as F,a0 as I,j as e,m as S,p as W,a1 as X,a2 as V,u as G,i as C,S as Z,y as H,t as J,a3 as ee,n as te}from"./index-BxA0UDnk.js";import{T as se}from"./timer-DLSd0l-M.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],re=B("box",ae);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],P=B("trash-2",le),D=({item:s,resource:d,isEmpty:l,isEquipped:m,onClick:x,onMouseEnter:c,onMouseLeave:b,onMouseMove:r,slotType:i,isDraggable:u,onDragStart:p,onDragEnd:k,layoutId:g,isTrashMode:v})=>{const t=F.useMemo(()=>{if(s){const a=typeof s=="string"?I[s]:s;return(a==null?void 0:a.type)==="CONSUMABLE"}if(d){const a=I[d.id];return(a==null?void 0:a.type)==="CONSUMABLE"}return!1},[s,d]),n=()=>{if(s){let a=s;if(typeof s=="string")a=I[s]||{id:s,name:s,icon:"ðŸ“¦"};else if(s&&!a.icon&&a.id){const A=a.id.split("_")[0],T=I[A];T&&(a={...T,...s})}return e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center group/item overflow-visible",children:[e.jsx("span",{className:"text-5xl filter drop-shadow-2xl group-hover/item:scale-110 group-hover/item:rotate-3 transition-transform duration-500",children:a.icon||"ðŸ“¦"}),a.durability<a.maxDurability&&e.jsx("div",{className:"absolute bottom-1 left-3 right-3 h-1 bg-black/60 rounded-full overflow-hidden border border-white/10",children:e.jsx("div",{className:`h-full transition-all duration-1000 ${a.durability/a.maxDurability<.2?"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.5)]":a.durability/a.maxDurability<.5?"bg-yellow-500":"bg-indigo-400"}`,style:{width:`${a.durability/a.maxDurability*100}%`}})}),a.level>1&&e.jsxs("div",{className:"absolute top-1 right-2 px-1.5 py-0.5 bg-black/60 backdrop-blur-md rounded-md border border-white/10 text-[8px] font-black text-indigo-300 uppercase tracking-tighter",children:["Lvl ",a.level]})]})}if(d)return e.jsxs("div",{className:"relative w-full h-full flex flex-col items-center justify-center p-1 group/res",children:[e.jsx("div",{className:"group-hover/res:scale-110 group-hover/res:-rotate-3 transition-transform duration-500",children:e.jsx(W,{resource:d.id,size:"lg"})}),e.jsx("span",{className:"absolute bottom-1 right-2 text-2xl font-black text-white drop-shadow-[0_4px_8px_rgba(0,0,0,1)] shadow-black",children:d.amount})]});if(i){const a=()=>{switch(i){case"HEAD":return"ðŸ‘¤";case"BODY":return"ðŸ‘•";case"FEET":return"ðŸ‘Ÿ";case"MAIN_HAND":return"âš”ï¸";case"OFF_HAND":return"ðŸ›¡ï¸";case"AXE":return"ðŸª“";case"PICKAXE":return"â›ï¸";case"SCYTHE":return"ðŸŒ¾";case"HAMMER":return"ðŸ”¨";case"CHISEL":return"ðŸ”¨";default:return null}};return e.jsxs("div",{className:"opacity-15 flex flex-col items-center justify-center grayscale group-hover:grayscale-0 group-hover:opacity-30 transition-all duration-700",children:[e.jsx("span",{className:"text-4xl mb-1",children:a()}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-white/60",children:i.replace("_"," ")})]})}return e.jsx("div",{className:"opacity-5 flex items-center justify-center",children:e.jsx(X,{className:"w-8 h-8 text-white"})})};return e.jsxs(S.button,{layoutId:g,drag:!!(u&&n()),dragSnapToOrigin:!0,dragElastic:.1,dragMomentum:!1,onDragStart:p,onDragEnd:k,whileHover:{scale:1.05,zIndex:50},whileDrag:{scale:1.2,zIndex:100,pointerEvents:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)"},onClick:x,onMouseEnter:c,onMouseLeave:b,onMouseMove:r,className:`
                relative aspect-square w-full rounded-2xl border-2 transition-all duration-300
                ${l||!n()?"bg-white/5 border-white/5 border-dashed":"bg-white/10 border-white/10 hover:bg-slate-800/80 hover:border-indigo-500/30"}
                ${m?"ring-2 ring-indigo-500 border-indigo-500/50 bg-indigo-500/20 shadow-[0_0_20px_rgba(79,70,229,0.2)]":""}
                ${v&&!l&&n()?"hover:border-red-500/50 hover:bg-red-500/10 cursor-alias":"cursor-grab active:cursor-grabbing"}
                ${t&&!v&&!l&&!m?"shadow-[inset_0_0_15px_rgba(16,185,129,0.2)] border-emerald-500/20":""}
                group overflow-hidden will-change-transform
            `,children:[n(),(s||d)&&e.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none ${v?"bg-red-500/10":"bg-indigo-500/5"}`})]})},ie=({player:s,onSlotClick:d,onSlotHover:l,onSlotLeave:m,onDragStart:x,onDragEnd:c,isTrashMode:b})=>{const r=Object.entries(s.resources||{}).filter(([t,n])=>n>0&&t!=="manpower"&&t!=="tools").map(([t,n])=>({type:"resource",data:{id:t,amount:n}})),u=((Array.isArray(s.inventory)?s.inventory:Object.values(s.inventory||{}))||[]).filter(t=>!(!t||typeof t=="object"&&Object.keys(t).length===0)).map(t=>{let n=t;if(typeof t=="string")n=I[t]||{id:t,name:t,icon:"ðŸ“¦"};else if(t&&typeof t=="object"&&t.id){const a=t.id.split("_")[0],A=I[a];A&&(n={...A,...t,icon:t.icon||A.icon||"ðŸ“¦"})}return{type:"equipment",data:n}}),p=[...r,...u],k=25,g=[...p];for(;g.length<k;)g.push(null);const v={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.03,delayChildren:.1}}};return e.jsx(S.div,{className:"grid grid-cols-5 gap-5",variants:v,initial:"hidden",animate:"visible","data-inventory-grid":!0,children:g.map((t,n)=>t?t.type==="resource"?e.jsx(D,{resource:t.data,onClick:()=>d(n,t),onMouseEnter:a=>l(a,t),onMouseLeave:m,isTrashMode:b},`inv-${n}`):e.jsx(D,{item:t.data,layoutId:t.data.id,isDraggable:!0,onDragStart:()=>x==null?void 0:x(t),onDragEnd:(a,A)=>c==null?void 0:c(a,t,A),onClick:()=>d(n,t),onMouseEnter:a=>l(a,t),onMouseLeave:m,onMouseMove:a=>l(a,t),isTrashMode:b},`inv-${n}`):e.jsx(D,{},`empty-${n}`))})},ne=({content:s,position:d,isTrashMode:l,isDiscardable:m})=>{if(!s)return null;const{type:x,data:c}=s,b=x==="resource",r=c!=null&&c.id?I[c.id]:null,i={...c,name:c.name||(r==null?void 0:r.name)||c.id,icon:c.icon||(r==null?void 0:r.icon)||"ðŸ“¦",description:c.description||(r==null?void 0:r.description)||(b?"En verdifull ressurs brukt til hÃ¥ndverk og handel.":""),type:c.type||(r==null?void 0:r.type)||(b?"RESOURCE":"ITEM"),stats:c.stats||(r==null?void 0:r.stats),durability:c.durability,maxDurability:c.maxDurability||(r==null?void 0:r.maxDurability)};return V.createPortal(e.jsx("div",{className:"fixed z-[9999] pointer-events-none transition-transform duration-75 ease-out",style:{left:d.x+15,top:d.y+15,transform:"translate3d(0, 0, 0)"},children:e.jsxs("div",{className:"bg-slate-950/95 backdrop-blur-xl border border-white/20 rounded-2xl p-5 shadow-[0_20px_50px_rgba(0,0,0,0.5)] min-w-[240px] animate-in fade-in zoom-in-95 duration-150",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-3xl",children:i.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-white leading-tight",children:i.name}),e.jsx("span",{className:"text-xs font-black uppercase text-indigo-400 tracking-[0.2em]",children:i.type==="CONSUMABLE"?"Matvare":b?"Ressurs":"Gjenstand"})]})]}),i.description&&e.jsx("p",{className:"text-xs text-slate-300 leading-relaxed italic mb-4 opacity-80",children:i.description}),!b&&i.stats&&e.jsxs("div",{className:"space-y-2 border-t border-white/10 pt-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(re,{className:"w-3 h-3 text-slate-500"}),e.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Egenskaper"})]}),Object.entries(i.stats).map(([u,p])=>e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsx("span",{className:"text-slate-400 capitalize",children:u.replace("Bonus","")}),e.jsx("span",{className:"text-emerald-400 font-mono font-bold",children:typeof p=="number"&&p>1?`x${p}`:typeof p=="number"&&p<1?`+${Math.round(p*100)}%`:`+${p}`})]},u))]}),!b&&i.durability!==void 0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs font-bold uppercase tracking-widest text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(se,{className:"w-3 h-3"})," Holdbarhet"]}),e.jsxs("span",{children:[i.durability," / ",i.maxDurability]})]}),e.jsx("div",{className:"h-1.5 w-full bg-black/40 rounded-full overflow-hidden p-[1px]",children:e.jsx("div",{className:`h-full rounded-full transition-all ${i.durability/i.maxDurability<.2?"bg-red-500":i.durability/i.maxDurability<.5?"bg-yellow-500":"bg-emerald-500"}`,style:{width:`${i.durability/i.maxDurability*100}%`}})})]}),b&&e.jsx("div",{className:"mt-2 p-3 rounded-xl bg-indigo-500/10 border border-indigo-500/20",children:e.jsxs("p",{className:"text-xs text-indigo-300 font-bold uppercase tracking-widest",children:["Beholdning: ",e.jsx("span",{className:"text-white ml-2",children:c.amount})]})}),i.type==="CONSUMABLE"&&!l&&e.jsx("div",{className:"mt-4 text-center",children:e.jsx("span",{className:"inline-block text-[10px] font-black uppercase tracking-widest text-emerald-400 bg-emerald-500/10 px-3 py-1.5 rounded-full border border-emerald-500/20 animate-pulse shadow-lg shadow-emerald-500/10",children:"Trykk for Ã¥ bruke"})}),l&&m&&e.jsx("div",{className:"mt-4 text-center",children:e.jsx("span",{className:"inline-block text-[10px] font-black uppercase tracking-widest text-red-400 bg-red-500/10 px-3 py-1.5 rounded-full border border-red-500/20 animate-pulse shadow-lg shadow-red-500/10",children:"Trykk for Ã¥ slette permanent"})})]})}),document.body)},N={HEAD:"Hode",BODY:"Kropp",FEET:"FÃ¸tter",MAIN_HAND:"HovedhÃ¥nd",OFF_HAND:"SidehÃ¥nd",TRINKET:"TilbehÃ¸r",AXE:"Ã˜ks",PICKAXE:"Hakke",SCYTHE:"Ljom / Sigd",HAMMER:"Smedhammer",BOW:"Bue",TRAP:"Felle",CHISEL:"Meisel"},oe=F.memo(({player:s,onAction:d})=>{const{setActiveTab:l}=G(),[m,x]=C.useState(null),[c,b]=C.useState({x:0,y:0}),[r,i]=C.useState(null),[u,p]=C.useState(!1),[k,g]=C.useState(null),v=(f,o)=>{if(o){if(u){if(o.type==="equipment"&&o.data){g(o.data);return}if(o.type==="resource")return}if(o.type==="resource"){const h=o.data.id,_=I[h];if(_&&_.type==="CONSUMABLE"){d({type:"CONSUME",itemId:h,isResource:!0});return}}if(o.type==="equipment"){const h=o.data;if(h&&h.type==="CONSUMABLE"){d({type:"CONSUME",itemId:h.id});return}o.slot?d({type:"UNEQUIP_ITEM",slot:o.slot}):h&&h.type&&d({type:"EQUIP_ITEM",itemId:h.id,slot:h.type})}}},t=(f,o)=>{if(!o){x(null);return}x(o),b({x:f.clientX,y:f.clientY})},n=()=>{x(null)},a=(f,o)=>{o&&b({x:f.clientX,y:f.clientY})},A=f=>{i(f),x(null)},T=(f,o,h)=>{var L,q;const _=((L=h==null?void 0:h.point)==null?void 0:L.x)??f.clientX,Q=((q=h==null?void 0:h.point)==null?void 0:q.y)??f.clientY,O=document.elementsFromPoint(_,Q);let z=null;for(const M of O){const E=M.closest("[data-equipment-slot]");if(E){z=E;break}}if(z){const M=z.getAttribute("data-equipment-slot");if(M&&o.type==="equipment"){const E=o.data;["AXE","PICKAXE","SCYTHE","HAMMER","BOW","TRAP","CHISEL"].includes(E.type)&&M==="MAIN_HAND"?d({type:"EQUIP_ITEM",itemId:E.id,slot:E.type}):(E.type===M||M==="MAIN_HAND"&&E.relevantActions)&&d({type:"EQUIP_ITEM",itemId:E.id,slot:M})}}else O.some(E=>E.closest("[data-trash-zone]"))&&o.type==="equipment"&&o.data?g(o.data):O.some(R=>R.closest("[data-inventory-grid]")||R.closest(".inventory-container"))&&o.type==="equipment"&&o.slot&&d({type:"UNEQUIP_ITEM",slot:o.slot});i(null)},U=Array.isArray(s.inventory)?s.inventory:Object.values(s.inventory||{}),Y=Object.values(s.resources||{}).filter(f=>f>0).length,K=U.length+Y,y=s.equipment||{},$=!!(r!=null&&r.slot),j={onClick:f=>v(-1,f),onMouseEnter:t,onMouseLeave:n,onMouseMove:a,onDragStart:A,onDragEnd:T,draggedItem:r,isTrashMode:u};return e.jsx(Z,{title:"Eiendeler & Utrustning",icon:e.jsx(X,{className:"w-8 h-8"}),onClose:()=>l("MAP"),headerRight:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>p(!u),className:`group relative flex items-center gap-2 px-4 py-2 rounded-full border transition-all duration-500 overflow-hidden
                            ${u?"bg-red-500/20 border-red-500/50 text-red-200":"bg-white/5 border-white/5 text-slate-400 hover:border-white/20 hover:bg-white/10"}
                        `,children:[e.jsx(P,{className:`w-4 h-4 transition-transform duration-500 ${u?"scale-110":"group-hover:rotate-12"}`}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:u?"Avslutt Sletting":"Slett Gjenstander"}),u&&e.jsx(S.div,{layoutId:"trash-glow",className:"absolute inset-0 bg-red-500/20 blur-xl scale-150 animate-pulse pointer-events-none"})]}),e.jsxs("div",{className:"text-slate-500 text-xs font-bold uppercase tracking-widest bg-white/5 px-4 py-2 rounded-full border border-white/5",children:[K," / 25 plasser brukt"]})]}),children:e.jsxs("div",{className:"space-y-4 relative min-h-[600px] pt-4",children:[e.jsx(ne,{content:m,position:c,isTrashMode:u,isDiscardable:(m==null?void 0:m.type)==="equipment"}),e.jsx(H,{children:r&&e.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] bg-indigo-500/5 animate-pulse"})}),e.jsxs("div",{className:`flex flex-col xl:flex-row gap-6 items-start relative ${r?"z-[100]":"z-10"}`,children:[e.jsx("div",{className:`flex-1 w-full xl:w-[500px] shrink-0 ${$?"z-50 relative":"z-10"}`,children:e.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl border border-white/5 group/ragdoll h-[600px] flex items-center justify-center p-0 rounded-[2rem] shadow-2xl relative will-change-transform",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none rounded-[2rem]",children:[e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] bg-indigo-500/10 blur-[100px] rounded-full opacity-50"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(255,255,255,0.03)_0%,transparent_80%)]"}),e.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"radial-gradient(circle, #4f46e5 1px, transparent 1px)",backgroundSize:"32px 32px"}})]}),e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center max-w-5xl scale-90",children:[e.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-10 overflow-visible",children:e.jsxs("g",{className:"opacity-20 stroke-indigo-400/30 fill-none",strokeWidth:"1.5",strokeDasharray:"4 4",children:[e.jsx("path",{d:"M 350,120 Q 350,80 350,45"}),e.jsx("path",{d:"M 180,300 Q 250,300 300,300"}),e.jsx("path",{d:"M 520,300 Q 450,300 400,300"}),e.jsx("path",{d:"M 180,550 Q 250,550 320,500"}),e.jsx("path",{d:"M 520,550 Q 450,550 380,500"})]})}),e.jsx("div",{className:"relative z-10 w-[450px] h-[650px] opacity-[0.2] pointer-events-none select-none",children:e.jsxs("svg",{viewBox:"0 0 200 500",className:"w-full h-full text-indigo-300 fill-current filter blur-[1px]",children:[e.jsx("path",{d:"M100,15 c20,0,30,12,30,35 s-10,35-30,35 s-30-12-30-35 s10-35,30-35"}),e.jsx("path",{d:"M85,85 h30 l15,10 c15,10,35,15,45,25 s15,40,15,60 v120 c0,15-10,25-25,25 h-10 v140 c0,20-12,30-30,30 h-5 c-15,0-20-10-20-20 v-150 h-10 v150 c0,10-5,20-20,20 h-5 c-18,0-30-10-30-30 v-140 h-10 c-15,0-25-10-25-25 v-120 c0-20,5-50,15-60 s30-15,45-25 Z"})]})}),e.jsx("div",{className:"absolute top-10 left-10 z-30 opacity-10 group-hover/ragdoll:opacity-30 transition-all duration-1000",children:e.jsx(J,{className:"w-24 h-24 text-indigo-400 rotate-[-12deg]"})}),e.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center",children:e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("div",{className:"absolute top-[6%] left-1/2 -translate-x-1/2 w-24",children:e.jsx(w,{slot:"HEAD",label:N.HEAD,item:y.HEAD,...j})}),e.jsx("div",{className:"absolute top-[35%] left-1/2 -translate-x-1/2 w-24",children:e.jsx(w,{slot:"BODY",label:N.BODY,item:y.BODY,...j})}),e.jsx("div",{className:"absolute bottom-[8%] left-1/2 -translate-x-1/2 w-24",children:e.jsx(w,{slot:"FEET",label:N.FEET,item:y.FEET,...j})}),e.jsx("div",{className:"absolute top-[35%] left-[6%] w-24",children:e.jsx(w,{slot:"MAIN_HAND",label:N.MAIN_HAND,item:y.MAIN_HAND,...j})}),e.jsx("div",{className:"absolute top-[35%] right-[6%] w-24",children:e.jsx(w,{slot:"OFF_HAND",label:N.OFF_HAND,item:y.OFF_HAND,...j})}),e.jsxs("div",{className:"absolute bottom-[2%] left-[2%] flex flex-col gap-8",children:[e.jsx("div",{className:"w-20 -rotate-6",children:e.jsx(w,{slot:"AXE",label:N.AXE,item:y.AXE,compact:!0,...j})}),e.jsx("div",{className:"w-20 -rotate-3 ml-6",children:e.jsx(w,{slot:"PICKAXE",label:N.PICKAXE,item:y.PICKAXE,compact:!0,...j})}),e.jsx("div",{className:"w-20 -rotate-1 ml-12",children:e.jsx(w,{slot:"CHISEL",label:N.CHISEL,item:y.CHISEL,compact:!0,...j})})]}),e.jsxs("div",{className:"absolute bottom-[2%] right-[2%] flex flex-col gap-8 items-end",children:[e.jsx("div",{className:"w-20 rotate-6",children:e.jsx(w,{slot:"SCYTHE",label:N.SCYTHE,item:y.SCYTHE,compact:!0,...j})}),e.jsx("div",{className:"w-20 rotate-3 mr-6",children:e.jsx(w,{slot:"HAMMER",label:N.HAMMER,item:y.HAMMER,compact:!0,...j})})]}),e.jsx("div",{className:"absolute top-[20%] left-[8%] w-20",children:e.jsx(w,{slot:"BOW",label:N.BOW,item:y.BOW,compact:!0,...j})}),e.jsx("div",{className:"absolute top-[20%] right-[8%] w-20",children:e.jsx(w,{slot:"TRAP",label:N.TRAP,item:y.TRAP,compact:!0,...j})}),e.jsx("div",{className:"absolute top-[12%] right-[16%] w-16",children:e.jsx(w,{slot:"TRINKET",label:N.TRINKET,item:y.TRINKET,compact:!0,...j})})]})})]})]})}),e.jsx("div",{className:`flex-1 w-full space-y-6 ${r&&!$?"z-50 relative":"z-10"}`,children:e.jsxs("div",{className:"bg-slate-950/70 p-6 rounded-[2rem] border border-white/5 backdrop-blur-xl shadow-2xl min-h-[600px] inventory-container relative overflow-hidden",children:[e.jsx(ie,{player:s,onSlotClick:v,onSlotHover:t,onSlotLeave:n,onDragStart:A,onDragEnd:T,isTrashMode:u}),e.jsx(H,{children:r&&r.type==="equipment"&&e.jsxs(S.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},"data-trash-zone":!0,className:"absolute bottom-6 left-6 right-6 h-24 bg-red-500/10 backdrop-blur-md border-2 border-red-500/30 border-dashed rounded-3xl flex items-center justify-center gap-4 group/trashzone z-[110]",children:[e.jsx(P,{className:"w-8 h-8 text-red-400 group-hover/trashzone:scale-125 transition-transform"}),e.jsx("span",{className:"text-red-300 font-black uppercase tracking-widest text-sm",children:"Slipp her for Ã¥ slette gjenstanden"})]})})]})})]}),e.jsx(H,{children:k&&e.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-6 sm:p-12 pointer-events-none",children:[e.jsx(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>g(null),className:"absolute inset-0 bg-black/80 backdrop-blur-sm pointer-events-auto"}),e.jsx(S.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-md bg-slate-900 border-2 border-red-500/30 rounded-[2.5rem] shadow-2xl overflow-hidden pointer-events-auto",children:e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"w-20 h-20 bg-red-500/10 rounded-3xl border border-red-500/20 flex items-center justify-center relative group",children:[e.jsx(P,{className:"w-10 h-10 text-red-500 group-hover:scale-110 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-red-500/20 blur-xl animate-pulse rounded-full"})]})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"Er du helt sikker?"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 py-3 px-4 bg-white/5 rounded-2xl border border-white/5",children:[e.jsx("span",{className:"text-3xl",children:k.icon||"ðŸ“¦"}),e.jsx("span",{className:"text-lg font-bold text-indigo-300",children:k.name})]}),e.jsx("p",{className:"text-slate-400 text-sm leading-relaxed px-4 pt-2 font-medium italic",children:"Denne handlingen kan ikke angres. Gjenstanden vil bli borte for alltid og du fÃ¥r ingenting tilbake."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:()=>g(null),className:"flex-1 px-8 py-4 rounded-2xl bg-white/5 hover:bg-white/10 border border-white/10 text-white font-black uppercase tracking-widest text-xs transition-all flex items-center justify-center gap-2 group",children:[e.jsx(ee,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Avbryt"]}),e.jsxs("button",{onClick:()=>{d({type:"DISCARD_ITEM",itemId:k.id}),g(null)},className:"flex-1 px-8 py-4 rounded-2xl bg-red-600 hover:bg-red-500 shadow-lg shadow-red-900/20 text-white font-black uppercase tracking-widest text-xs transition-all flex items-center justify-center gap-2 group border border-red-400/30",children:[e.jsx(te,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Slett for alltid"]})]})]})})]})})]})})}),w=({slot:s,label:d,item:l,compact:m,draggedItem:x,onClick:c,onMouseEnter:b,onMouseLeave:r,onMouseMove:i,onDragStart:u,onDragEnd:p,isTrashMode:k})=>{var t;const g=["AXE","PICKAXE","SCYTHE","HAMMER","BOW","TRAP","CHISEL"].includes((t=x==null?void 0:x.data)==null?void 0:t.type),v=(x==null?void 0:x.type)==="equipment"&&(x.data.type===s||s==="MAIN_HAND"&&x.data.relevantActions&&!g);return e.jsxs(S.div,{className:`flex flex-col items-center gap-1 group/rslot ${m?"scale-90":""}`,"data-equipment-slot":s,animate:{scale:v?1.1:1},children:[e.jsxs("div",{className:`${m?"w-16 h-16":"w-24 h-24"} relative`,children:[e.jsx(H,{children:(v||!!l)&&e.jsx(S.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:`absolute -inset-4 rounded-full blur-2xl z-0 transition-colors
                                ${v?"bg-indigo-500/30 animate-pulse":"bg-indigo-500/10"}
                            `})}),e.jsx("div",{className:"relative z-10 w-full h-full group-hover/rslot:scale-105 transition-transform duration-500 will-change-transform",children:e.jsx(D,{slotType:s,item:l,isEquipped:!!l,onClick:()=>c({type:"equipment",data:l,slot:s}),onMouseEnter:n=>b(n,l?{type:"equipment",data:l,slot:s}:null),onMouseLeave:r,onMouseMove:n=>i(n,l?{type:"equipment",data:l,slot:s}:null),isDraggable:!!l,onDragStart:()=>u==null?void 0:u({type:"equipment",data:l,slot:s}),onDragEnd:(n,a)=>p==null?void 0:p(n,{type:"equipment",data:l,slot:s},a),layoutId:(l==null?void 0:l.id)||`ragdoll-${s}`,isTrashMode:k})})]}),e.jsx("div",{className:"min-h-[1.75rem] flex items-center justify-center pointer-events-none z-20",children:e.jsx("span",{className:`text-xs font-black uppercase tracking-[0.15em] whitespace-nowrap px-4 py-1.5 rounded-full border shadow-xl backdrop-blur-md transition-all duration-500
                    ${v?"text-indigo-100 bg-indigo-600 border-indigo-400 scale-105 shadow-indigo-500/50":l?"text-slate-200 bg-slate-900/90 border-white/20":"text-slate-300 bg-black/60 border-white/10"}
                `,children:d})})]})};oe.displayName="SimulationVault";export{oe as SimulationVault};
