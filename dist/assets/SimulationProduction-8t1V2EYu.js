import{h as Ee,a4 as Se,j as e,a1 as ge,p as V,a as F,a0 as je,a5 as pe,b as Ie,u as Ae,i as u,S as U,o as _,a6 as P,R as Pe,C as Te,G as L,Q as Ce,V as Le,N as ue,T as Oe,k as be,Z as De,a7 as Be}from"./index-BjUzyxWg.js";import{R as _e}from"./RecipeCard-DGVQtrrV.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],fe=Ee("wrench",Me),$e=({recipe:r,player:i,room:m})=>{var f,E,c,I,x,w;const b=((f=m.world)==null?void 0:f.season)||"Spring",s=((E=m.world)==null?void 0:E.weather)||"Clear",k=((c=m.world)==null?void 0:c.totalTicks)||0,S=Se(r.stamina||0,b,s,((I=i.status)==null?void 0:I.buffs)||[],k);return e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center justify-between border-b border-white/5 pb-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-black uppercase tracking-[0.2em] text-slate-500",children:[e.jsx(ge,{className:"w-3.5 h-3.5 text-indigo-400"})," Ressurskrav"]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[Object.entries(r.input).map(([a,l])=>{var R,v;const j=((R=i.resources)==null?void 0:R[a])||0,h=a==="gold"?Math.floor(j):j,A=l,N=h>=A;return e.jsxs("div",{className:`relative p-3 rounded-xl border transition-all ${N?"bg-white/[0.03] border-white/5":"bg-rose-500/5 border-rose-500/10"}`,children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(V,{resource:a,size:"sm"}),e.jsx("span",{className:`text-[11px] font-bold uppercase tracking-tight truncate ${N?"text-slate-400":"text-rose-400/80"}`,children:((v=F[a])==null?void 0:v.label)||a})]}),e.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[e.jsx("span",{className:`text-base font-black leading-none ${N?"text-white":"text-rose-400"}`,children:h.toLocaleString()}),e.jsxs("span",{className:"text-sm font-bold text-slate-600 leading-none",children:["/ ",A]})]})]}),e.jsx("div",{className:"w-full h-0.5 bg-black/40 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-1000 ${N?"bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]":"bg-rose-500"}`,style:{width:`${Math.min(100,h/A*100)}%`}})})]},a)}),e.jsxs("div",{className:"relative p-3 rounded-xl border bg-indigo-500/5 border-indigo-500/10",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs",children:"âš¡"}),e.jsx("span",{className:"text-[11px] font-bold uppercase tracking-tight text-indigo-300/60",children:"Stamina"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[e.jsxs("span",{className:"text-base font-black text-indigo-400 leading-none",children:["-",S]}),e.jsxs("span",{className:"text-sm font-bold text-indigo-500/30 leading-none",children:["av ",Math.floor(((x=i.status)==null?void 0:x.stamina)||0)]})]})]}),e.jsx("div",{className:"w-full h-0.5 bg-black/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-500",style:{width:`${Math.min(100,(((w=i.status)==null?void 0:w.stamina)||0)/100*100)}%`}})})]})]})]})},Fe=({recipe:r,player:i,type:m})=>{var k,S,f,E,c,I;if(m!=="CRAFT")return null;const b=je[r.outputItemId];if(!b)return null;const s=Object.values(i.equipment||{}).find(x=>x&&x.type===b.type);return e.jsxs("div",{className:"space-y-4 pb-2 border-b border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("span",{className:"text-xs font-black uppercase tracking-[0.1em] text-slate-500",children:"VerktÃ¸yets egenskaper"}),s?e.jsx("div",{className:"flex items-center gap-1.5 mt-0.5",children:(()=>{var N,R,v,d;const x=((N=b.stats)==null?void 0:N.yieldBonus)||0,w=((R=s==null?void 0:s.stats)==null?void 0:R.yieldBonus)||0,a=((v=b.stats)==null?void 0:v.speedBonus)||1,l=((d=s==null?void 0:s.stats)==null?void 0:d.speedBonus)||1,j=x>w||a>l,h=x<w||a<l;return!j&&!h?e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider text-slate-500 bg-slate-500/10 px-2 py-0.5 rounded-md border border-slate-500/20",children:"Samme verktÃ¸y"}):j?e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider text-emerald-500 bg-emerald-500/10 px-2 py-0.5 rounded-md border border-emerald-500/20",children:"Bedre egenskaper"}):e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider text-rose-500 bg-rose-500/10 px-2 py-0.5 rounded-md border border-rose-500/20",children:"DÃ¥rligere egenskaper"})})()}):e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-indigo-400 mt-1",children:"Nytt verktÃ¸y"})]}),s?e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white/5 rounded-full border border-white/5",children:[e.jsx("span",{className:"text-sm",children:s.icon}),e.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-tight",children:s.name})]}):e.jsx("span",{className:"text-xs text-slate-600 italic uppercase font-bold",children:"Uten utstyr"})]}),e.jsxs("div",{className:"space-y-2",children:[((((k=b.stats)==null?void 0:k.yieldBonus)||0)>0||(((S=s==null?void 0:s.stats)==null?void 0:S.yieldBonus)||0)>0)&&e.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[e.jsxs("span",{className:"font-bold text-slate-300",children:["Utbytte-bonus ",e.jsx("span",{className:"text-[10px] opacity-40 uppercase",children:"(V/BRUK)"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:((f=s==null?void 0:s.stats)==null?void 0:f.yieldBonus)||0}),e.jsx("div",{className:"flex items-center opacity-30",children:e.jsx(pe,{className:"w-3.5 h-3.5 text-indigo-400"})}),(()=>{var l,j;const x=((l=b.stats)==null?void 0:l.yieldBonus)||0,w=((j=s==null?void 0:s.stats)==null?void 0:j.yieldBonus)||0,a=x-w;return e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:`font-black ${a>0?"text-emerald-400":a<0?"text-rose-400":"text-white"}`,children:x}),a!==0&&e.jsxs("span",{className:`text-[10px] font-black ${a>0?"text-emerald-500/70":"text-rose-500/70"}`,children:["(",a>0?"+":"",a,")"]})]})})()]})]}),((((E=b.stats)==null?void 0:E.speedBonus)||1)>1||(((c=s==null?void 0:s.stats)==null?void 0:c.speedBonus)||1)>1)&&e.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[e.jsxs("span",{className:"font-bold text-slate-300",children:["Hastighet ",e.jsx("span",{className:"text-[10px] opacity-40 uppercase",children:"(V/BRUK)"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-slate-500 font-bold",children:[Math.round(((((I=s==null?void 0:s.stats)==null?void 0:I.speedBonus)||1)-1)*100),"%"]}),e.jsx("div",{className:"flex items-center opacity-30",children:e.jsx(pe,{className:"w-3.5 h-3.5 text-indigo-400"})}),(()=>{var l,j;const x=Math.round(((((l=b.stats)==null?void 0:l.speedBonus)||1)-1)*100),w=Math.round(((((j=s==null?void 0:s.stats)==null?void 0:j.speedBonus)||1)-1)*100),a=x-w;return e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("span",{className:`font-black ${a>0?"text-blue-400":a<0?"text-rose-400":"text-white"}`,children:[x>0?"+":"",x,"%"]}),a!==0&&e.jsxs("span",{className:`text-[10px] font-black ${a>0?"text-emerald-500/70":"text-rose-500/70"}`,children:["(",a>0?"+":"",a,"%)"]})]})})()]})]})]})]})},Ue=({slot:r,item:i,isSelected:m,onSelect:b})=>{const s=i.durability<i.maxDurability;return e.jsxs("button",{onClick:()=>b(r),className:`w-full flex items-center gap-4 p-5 rounded-[2rem] border-2 transition-all group relative overflow-hidden ${m?"border-amber-500 bg-amber-500/10 shadow-[0_0_20px_rgba(245,158,11,0.2)]":s?"border-amber-500/20 bg-slate-900/80 hover:border-amber-500/40 hover:bg-slate-900/90":"border-white/5 bg-slate-900/60 opacity-60 grayscale"}`,children:[e.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center text-4xl shadow-inner transition-colors ${m?"bg-amber-500/20":"bg-black/40"}`,children:i.icon}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsxs("div",{className:"text-lg font-black text-white leading-tight flex items-center gap-2",children:[i.name,m&&e.jsx(fe,{className:"w-4 h-4 text-amber-500 animate-pulse"})]}),e.jsxs("div",{className:"flex flex-col mt-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs font-bold uppercase tracking-widest text-slate-500",children:[e.jsx("span",{children:"Holdbarhet"}),e.jsxs("span",{className:s?m?"text-amber-400":"text-amber-500":"text-emerald-500",children:[i.durability,"/",i.maxDurability]})]}),e.jsx("div",{className:"w-full h-1 bg-black/40 rounded-full mt-1 overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ${s?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${i.durability/i.maxDurability*100}%`}})})]})]}),m&&e.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 text-amber-500 opacity-50",children:e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current animate-ping"})})]})},Ve=({isStationWithRepair:r,viewMode:i,setViewMode:m})=>r?e.jsxs("div",{className:"flex bg-black/40 p-1 rounded-xl border border-white/10 shadow-inner",children:[e.jsx("button",{onClick:()=>m("PRODUCE"),className:`px-5 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all ${i==="PRODUCE"?"bg-indigo-600 text-white shadow-lg":"text-slate-500 hover:text-slate-300"}`,children:"Produksjon"}),e.jsx("button",{onClick:()=>m("REPAIR"),className:`px-5 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all ${i==="REPAIR"?"bg-amber-600 text-white shadow-lg":"text-slate-500 hover:text-slate-300"}`,children:"Reparasjon"})]}):null,Ge=Ie.memo(({player:r,room:i,onAction:m,pin:b})=>{var G,K,H,z,q,W,J,Q,Y,X,Z,ee,se,te,ae,le,re,ie,ne,ce,de;const{productionContext:s,setActiveTab:k,actionLoading:S}=Ae(),[f,E]=u.useState((s==null?void 0:s.initialView)||"PRODUCE");u.useEffect(()=>{s!=null&&s.initialView&&E(s.initialView)},[s==null?void 0:s.initialView]);const[c,I]=u.useState(null),[x,w]=u.useState(null),a=f==="REPAIR"&&x?r.equipment[x]:null;if(!s)return e.jsx(U,{title:"Produksjon",onClose:()=>k("MAP"),icon:"ðŸ”¨",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-6 py-20",children:[e.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center text-4xl",children:"âš ï¸"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Utilgjengelig"}),e.jsx("p",{className:"text-slate-500 italic max-w-xs",children:"Vennligst velg en produksjonsstasjon pÃ¥ kartet for Ã¥ starte."})]}),e.jsx(_,{variant:"ghost",onClick:()=>k("MAP"),className:"border border-white/10",children:"Tilbake til Kartet"})]})});const{buildingId:l,type:j}=s,h=Le[l],A=u.useMemo(()=>!!P[l],[l]),N=u.useMemo(()=>{const t=Object.entries(Pe).filter(([o,p])=>p.buildingId===l).map(([o,p])=>[o,p,"REFINE"]),n=Object.entries(Te).filter(([o,p])=>p.buildingId===l).map(([o,p])=>[o,p,"CRAFT"]);return[...t,...n]},[l]),R=u.useMemo(()=>{const t={};return N.forEach(([n,o,p])=>{const g=o.level||1;t[g]||(t[g]=[]),t[g].push([n,o,p])}),Object.entries(t).sort(([n],[o])=>parseInt(n)-parseInt(o))},[N]),v=u.useMemo(()=>{if(!c)return null;const t=N.find(n=>n[0]===c);return t?{recipe:t[1],type:t[2]}:null},[c,N]),d=(v==null?void 0:v.recipe)||null,M=(v==null?void 0:v.type)||j;u.useEffect(()=>{if(!c&&R.length>0){const t=R[0][1][0][0];I(t)}},[A,R,c]),u.useEffect(()=>{E("PRODUCE")},[A]);const $=(t,n)=>{var o,p,g;if(n.label)return{id:t,name:n.label,icon:n.icon||"ðŸ“¦",description:n.description||`Produserer ${n.label}`};if(n.outputResource)return{id:n.outputResource,name:((o=F[n.outputResource])==null?void 0:o.label)||n.outputResource,icon:((p=F[n.outputResource])==null?void 0:p.icon)||"ðŸ“¦",description:`Produserer ${n.outputAmount||((g=n.output)==null?void 0:g.amount)||1} enheter med ${n.outputResource}.`};{const y=je[n.outputItemId];return{id:n.outputItemId,name:(y==null?void 0:y.name)||n.outputItemId,icon:(y==null?void 0:y.icon)||"âš”ï¸",description:(y==null?void 0:y.description)||"Et solid hÃ¥ndverk."}}},O=((H=(K=(((G=i==null?void 0:i.world)==null?void 0:G.settlement)||{}).buildings)==null?void 0:K[l])==null?void 0:H.level)||1,[T,Ne]=u.useState(Date.now());u.useEffect(()=>{const t=setInterval(()=>Ne(Date.now()),1e3);return()=>clearInterval(t)},[]);const D=u.useMemo(()=>(r.activeProcesses||[]).filter(t=>t.locationId===l),[r.activeProcesses,l]),B=u.useMemo(()=>D.find(t=>t.readyAt<=T),[D,T]),C=u.useMemo(()=>c?D.find(t=>t.itemId===c&&t.readyAt>T):null,[D,c,T]),ve=()=>{if(B){m({type:"HARVEST",locationId:l});return}!c||!d||(d.level||1)>O||m(M==="REFINE"?{type:"REFINE",recipeId:c}:{type:"CRAFT",subType:c})},we=()=>{!x||!l||m({type:"REPAIR",targetSlot:x,buildingId:l})};if(l==="watchtower"&&f==="PRODUCE"){const t=r.role==="SOLDIER",n=r.role==="PEASANT"&&(r.stats.level||1)>=L.CAREERS.SOLDIER.LEVEL_REQ,o=L.CAREERS.SOLDIER.COST;return e.jsx(U,{title:"VaktÃ¥rn & Garnison",icon:"ðŸ°",onClose:()=>k("MAP"),maxWidth:"max-w-4xl",children:e.jsxs("div",{className:"py-8 space-y-8",children:[e.jsxs("div",{className:"relative h-48 rounded-3xl overflow-hidden border border-white/10 group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 to-transparent z-10"}),e.jsx("div",{className:"absolute inset-0 bg-[url('/garrison_header.png')] bg-cover bg-center opacity-60 group-hover:scale-105 transition-transform duration-700"}),e.jsxs("div",{className:"absolute bottom-6 left-8 z-20",children:[e.jsx("h2",{className:"text-3xl font-black text-white italic tracking-tighter",children:"FORSVAR LANDSBYEN"}),e.jsx("p",{className:"text-slate-300 font-medium",children:"Bli en del av eliten. Beskytt dine brÃ¸dre."})]})]}),t?e.jsxs("div",{className:"bg-slate-900/50 p-8 rounded-3xl border border-white/5 text-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-emerald-900/50 rounded-full flex items-center justify-center mx-auto text-4xl border border-emerald-500/30",children:"ðŸ›¡ï¸"}),e.jsx("h3",{className:"text-2xl font-black text-white",children:"Du er i tjeneste"}),e.jsx("p",{className:"text-slate-400 max-w-md mx-auto",children:"Takk for din tjeneste, soldat. Bruk produksjonsfanen til Ã¥ lage utstyr, eller patruljer landsbyen via Handlinger."}),e.jsx(_,{variant:"ghost",className:"border-white/10",onClick:()=>k("MAP"),children:"Tilbake til tjeneste"})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-3xl border border-white/5 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Krav for verving"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-slate-400 text-sm",children:"NivÃ¥"}),e.jsxs("span",{className:`font-bold ${r.stats.level>=L.CAREERS.SOLDIER.LEVEL_REQ?"text-emerald-400":"text-rose-400"}`,children:[r.stats.level,"/",L.CAREERS.SOLDIER.LEVEL_REQ]})]}),e.jsxs("li",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-slate-400 text-sm",children:"Vervekostnad"}),e.jsxs("span",{className:`font-bold ${r.resources.gold>=o?"text-emerald-400":"text-rose-400"}`,children:[o," Gull"]})]})]})]}),e.jsx("div",{className:"mt-8 p-4 bg-amber-900/20 border border-amber-500/20 rounded-xl",children:e.jsx("p",{className:"text-xs text-amber-200/80 italic text-center",children:'"Holdbarhet og Ã¦re er alt vi krever. Og litt gull til utstyr."'})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-900/40 to-slate-900/40 p-6 rounded-3xl border border-indigo-500/30 flex flex-col items-center justify-center text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 bg-indigo-500 rounded-full flex items-center justify-center text-3xl shadow-[0_0_20px_rgba(99,102,241,0.4)] animate-pulse",children:"âš”ï¸"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-white",children:"VERV DEG NÃ…"}),e.jsx("p",{className:"text-indigo-200 text-sm mt-1",children:"FÃ¥ tilgang til vÃ¥penkammer og patruljer."})]}),e.jsx(_,{variant:"primary",size:"lg",className:"w-full bg-indigo-600 hover:bg-indigo-500 border-indigo-400/50",onClick:()=>{window.confirm("Verve deg som soldat? Du vil miste din bonde-status.")&&Ce(b,r.id,"SOLDIER")},disabled:!n||r.resources.gold<o||!!S,children:r.resources.gold<o?"IKKE NOK GULL":"SIGNER KONTRAKT"})]})]})]})})}return e.jsx(U,{title:(h==null?void 0:h.name)||"Verksted",subtitle:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"opacity-60",children:h==null?void 0:h.description}),e.jsx("span",{className:"w-1 h-1 bg-white/20 rounded-full"}),e.jsxs("span",{className:"text-indigo-400",children:["NivÃ¥ ",O]})]}),icon:(h==null?void 0:h.icon)||"ðŸ”¨",onClose:()=>k("MAP"),maxWidth:"max-w-6xl",headerRight:e.jsx(Ve,{isStationWithRepair:A,viewMode:f,setViewMode:E}),children:e.jsx("div",{className:"space-y-6 py-2 animate-in fade-in slide-in-from-bottom-6 duration-700",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-start",children:[e.jsx("div",{className:"flex-1 space-y-6",children:f==="PRODUCE"?e.jsx("div",{className:"space-y-10",children:R.map(([t,n])=>{const p=parseInt(t)>O;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-black tracking-widest uppercase ${p?"bg-slate-800 text-slate-500":"bg-indigo-600 text-white"}`,children:["Tier ",t]}),e.jsx("div",{className:"flex-1 h-px bg-white/5"}),p&&e.jsxs("span",{className:"text-xs font-bold text-slate-600 italic flex items-center gap-1",children:[e.jsx(ge,{className:"w-3 h-3"})," Oppgrader ",h==null?void 0:h.name," til NivÃ¥ ",t]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.map(([g,y,ye])=>{var oe,xe,me;const ke=ue(r,ye==="REFINE"?{type:"REFINE",recipeId:g}:{type:"CRAFT",subType:g},(oe=i.world)==null?void 0:oe.season,(xe=i.world)==null?void 0:xe.weather,((me=i.world)==null?void 0:me.gameTick)||0),Re=D.some(he=>he.itemId===g&&he.readyAt<=T);return e.jsx(_e,{id:g,isSelected:c===g,isLocked:p,canAfford:ke.success,isReady:Re,info:$(g,y),onSelect:I},g)})})]},t)})}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(z=P[l])==null?void 0:z.slots.map(t=>{const o=(r.equipment||{})[t];return o?e.jsx(Ue,{slot:t,item:o,isSelected:x===t,onSelect:w},t):null}),((q=P[l])==null?void 0:q.slots.every(t=>!(r.equipment||{})[t]))&&e.jsx("div",{className:"col-span-full py-12 text-center bg-slate-900/40 rounded-[2rem] border border-dashed border-white/5",children:e.jsx("p",{className:"text-slate-500 italic",children:"Ingen relevante gjenstander utstyrt for reparasjon her."})})]})})}),e.jsx("div",{className:`w-full lg:w-[400px] shrink-0 transition-all duration-500 ${f==="REPAIR"?"scale-95 opacity-80":d?"opacity-100":"opacity-30 grayscale pointer-events-none"}`,children:f==="REPAIR"?e.jsx("div",{className:"bg-slate-900/60 backdrop-blur-xl border border-amber-500/20 rounded-[2.5rem] p-6",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-amber-500 to-orange-600 rounded-[2rem] flex items-center justify-center text-6xl mx-auto shadow-2xl border-4 border-white/10 mb-6",children:a.icon}),e.jsx("h3",{className:"text-2xl font-black text-white tracking-tighter mb-2",children:a.name}),e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:["Holdbarhet: ",e.jsxs("span",{className:"text-amber-500",children:[a.durability," / ",a.maxDurability]})]}),e.jsx("div",{className:"w-48 h-1.5 bg-black/40 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-amber-500",style:{width:`${a.durability/a.maxDurability*100}%`}})})]})]}),e.jsxs("div",{className:"bg-black/40 rounded-3xl p-6 border border-white/5 space-y-4",children:[e.jsx("div",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Reparasjonskostnad"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{resource:"gold",size:"sm"}),e.jsx("span",{className:"text-sm font-bold text-slate-300",children:"Gull"})]}),e.jsxs("span",{className:"text-amber-400 font-black",children:["-",((W=P[l])==null?void 0:W.goldCost)||0]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{resource:((J=P[l])==null?void 0:J.material)||"iron_ingot",size:"sm"}),e.jsx("span",{className:"text-sm font-bold text-slate-300",children:((Y=F[((Q=P[l])==null?void 0:Q.material)||"iron_ingot"])==null?void 0:Y.label)||"Materiale"})]}),e.jsx("span",{className:"text-amber-400 font-black",children:"-1"})]})]})]}),e.jsx("div",{className:"mt-8 mb-6 p-6 bg-indigo-500/5 border border-indigo-500/10 rounded-2xl",children:e.jsx("p",{className:"text-sm text-indigo-200/90 font-medium text-center leading-relaxed",children:"Reparasjon gjenoppretter 30 holdbarhetspoeng."})}),e.jsx(_,{variant:"primary",size:"lg",className:"h-20 text-xl w-full bg-amber-600 hover:bg-amber-500 border-amber-400/50",onClick:we,disabled:!!S||a.durability>=a.maxDurability||(((X=r.resources)==null?void 0:X.gold)||0)<(((Z=P[l])==null?void 0:Z.goldCost)||0)||(((se=r.resources)==null?void 0:se[(ee=P[l])==null?void 0:ee.material])||0)<1,children:a.durability>=a.maxDurability?"FULL HOLDBARHET":"REPARER GJENSTAND"})]}):e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-center opacity-50",children:[e.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mb-6",children:e.jsx(fe,{className:"w-10 h-10 text-slate-600"})}),e.jsx("h4",{className:"text-xl font-bold text-slate-400",children:"Velg utstyr"}),e.jsx("p",{className:"text-sm text-slate-500 max-w-[200px] mt-2",children:"Trykk pÃ¥ en gjenstand til venstre for Ã¥ se reparasjonsdetaljer."})]})}):d?e.jsxs("div",{className:"bg-slate-900/60 backdrop-blur-xl border border-white/10 rounded-[2.5rem] p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-[1.8rem] flex items-center justify-center text-5xl mx-auto shadow-2xl border-[3px] border-white/10 mb-4 group-hover:rotate-6 transition-transform",children:$(c,d).icon}),e.jsx("h3",{className:"text-3xl font-black text-white tracking-tighter mb-2",children:$(c,d).name}),e.jsx("p",{className:"text-slate-400 text-sm font-medium px-6 leading-relaxed",children:$(c,d).description})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx($e,{recipe:d,player:r,room:i}),e.jsxs("div",{className:"bg-black/40 rounded-3xl p-5 border border-white/5 space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-black uppercase tracking-widest text-slate-500",children:[e.jsx(Oe,{className:"w-3 h-3"})," Utbytte & Sammenligning"]}),e.jsx(Fe,{recipe:d,player:r,type:M}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-[11px] font-black uppercase tracking-widest text-slate-500 border-b border-white/5 pb-2",children:"Dette produseres"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-[10px] text-slate-500 font-black uppercase tracking-wider",children:"Basis-antall"}),e.jsxs("div",{className:"text-xl font-black text-white leading-none",children:["+",d.outputAmount||((te=d.output)==null?void 0:te.amount)||1]})]}),e.jsx("div",{className:"h-8 w-[1px] bg-white/5"}),e.jsxs("div",{className:"space-y-1 text-right",children:[e.jsxs("div",{className:"text-[10px] text-emerald-500 font-black uppercase tracking-wider",children:["Bonus fra ",((ae=be[d.skill])==null?void 0:ae.label)||"Evne"]}),e.jsxs("div",{className:"text-xl font-black text-emerald-400 leading-none",children:["+",Math.floor((d.outputAmount||1)*(((re=(le=r.skills)==null?void 0:le[d.skill])==null?void 0:re.level)||0)*(M==="REFINE"?L.SKILLS.REFINING_BONUS:L.SKILLS.GATHERING_BONUS))]})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-white/5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-500 uppercase tracking-wider",children:[e.jsx(De,{className:"w-3 h-3 text-amber-500"})," ",((ie=be[d.skill])==null?void 0:ie.label)||"Produksjon"," XP"]}),e.jsxs("span",{className:"text-amber-500 font-black text-sm",children:["+",d.xp||10," XP"]})]})]}),e.jsxs(_,{variant:"primary",size:"lg",className:`h-20 text-xl w-full transition-all duration-300 relative overflow-hidden ${B?"bg-emerald-600 hover:bg-emerald-500 border-emerald-400/50 shadow-[0_0_30px_rgba(16,185,129,0.2)]":""}`,onClick:ve,disabled:!!S||!B&&!C&&((d.level||1)>O||!ue(r,M==="REFINE"?{type:"REFINE",recipeId:c}:{type:"CRAFT",subType:c},(ne=i.world)==null?void 0:ne.season,(ce=i.world)==null?void 0:ce.weather,((de=i.world)==null?void 0:de.gameTick)||0).success),children:[C&&e.jsx("div",{className:"absolute inset-0 bg-white/10 transition-all duration-1000 ease-linear pointer-events-none",style:{width:`${Math.min(100,(1-(C.readyAt-T)/(C.duration||1e3))*100)}%`}}),e.jsx("div",{className:"relative z-10 flex items-center justify-center gap-3",children:B?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-bounce",children:"ðŸŽ"}),e.jsxs("span",{children:["HENT ",B.itemId===(c||"")?((d==null?void 0:d.label)||"PRODUKSJON").toUpperCase():"PRODUKSJON"]})]}):C?e.jsxs("div",{className:"flex flex-col items-center leading-none",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-60 mb-1",children:"Produksjon pÃ¥gÃ¥r"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"animate-spin text-sm",children:"âš™ï¸"}),e.jsxs("span",{className:"font-mono text-2xl",children:[Math.ceil((C.readyAt-T)/1e3),"s"]})]})]}):e.jsx(e.Fragment,{children:(d.level||1)>O?e.jsx("span",{children:"KREVER OPPGRADERING"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"ðŸ”¥"}),e.jsx("span",{children:"START PRODUKSJON"})]})})})]})]})]}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-12 bg-slate-900/20 border-2 border-dashed border-white/10 rounded-[3rem]",children:[e.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mb-6",children:e.jsx(Be,{className:"w-10 h-10 text-slate-600"})}),e.jsx("h4",{className:"text-xl font-black text-slate-400 mb-2",children:"Ingen oppskrift valgt"}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Velg en gjenstand fra listen til venstre for Ã¥ se detaljer og starte produksjon."})]})})]})})})});Ge.displayName="SimulationProduction";export{Ge as SimulationProduction};
