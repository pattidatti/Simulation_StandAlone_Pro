import{P as I,d as R,j as e,t as x,w as t,h as f,S,X as H,o as m,H as h,I as F}from"./index-DLzf93r1.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M10 5V3",key:"1y54qe"}],["path",{d:"M14 5V3",key:"m6isi"}],["path",{d:"M15 21v-3a3 3 0 0 0-6 0v3",key:"lbp5hj"}],["path",{d:"M18 3v8",key:"2ollhf"}],["path",{d:"M18 5H6",key:"98imr9"}],["path",{d:"M22 11H2",key:"1lmjae"}],["path",{d:"M22 9v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9",key:"1rly83"}],["path",{d:"M6 3v8",key:"csox7g"}]],v=I("castle",M),T=({player:r,regions:N,onAction:a,onClose:b})=>{var u,j;const{actionLoading:i}=R();if(r.role!=="BARON"&&r.role!=="KING")return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",children:e.jsxs("div",{className:"bg-red-950/50 border border-red-500/50 rounded-2xl p-8 max-w-md text-center",children:[e.jsx(x,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Adgang Forbudt"}),e.jsx("p",{className:"text-red-200",children:"Kun regionens hersker har adgang til Krigsrommet."}),e.jsx(t,{onClick:b,className:"mt-6",variant:"wood",children:e.jsx("span",{className:"text-white",children:"Forlat området"})})]})});const w=r.regionId==="capital"?"capital":r.regionId,g=N[w]||{garrison:{swords:0,armor:0},fortification:{hp:1e3,maxHp:1e3,level:1}},p=g.garrison||{swords:0,armor:0},s=g.fortification||{hp:1e3,maxHp:1e3,level:1},l=((u=r.resources)==null?void 0:u.siege_sword)||0,n=((j=r.resources)==null?void 0:j.siege_armor)||0,[d,k]=f.useState(1),[o,y]=f.useState(1);return e.jsx(S,{title:"Krigsrommet",icon:e.jsx(v,{className:"w-8 h-8 text-rose-500"}),onClose:b,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-2xl p-6 flex flex-col items-center",children:[e.jsx("span",{className:"text-game-stone_light text-[10px] uppercase font-bold mb-1 tracking-widest",children:"Gjeldende Tilstand"}),e.jsxs("div",{className:"text-3xl font-black text-white flex items-center gap-3",children:[e.jsx(v,{className:"w-8 h-8 text-game-stone"}),s.hp," / ",s.maxHp," HP"]}),e.jsx("div",{className:"w-full bg-black/50 h-3 mt-4 rounded-full overflow-hidden border border-white/5",children:e.jsx("div",{className:`h-full transition-all duration-1000 ${s.hp<s.maxHp*.3?"bg-red-500":"bg-green-500"}`,style:{width:`${s.hp/s.maxHp*100}%`}})}),e.jsx("div",{className:"mt-4 flex gap-2 w-full",children:e.jsx(t,{variant:"wood",className:"flex-1 text-xs py-3",disabled:s.hp>=s.maxHp||(r.resources.stone||0)<10||(r.resources.wood||0)<10,onClick:()=>a({type:"REPAIR_WALLS",amount:1}),icon:e.jsx(H,{className:"w-4 h-4"}),children:"Reparer Murer"})})]}),e.jsxs("div",{className:"bg-amber-950/10 border border-amber-500/20 rounded-2xl p-6 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("h3",{className:"text-amber-500 font-bold uppercase tracking-widest text-xs",children:["Festningsnivå: ",s.level||1]}),e.jsxs("span",{className:"text-[10px] bg-amber-500/20 text-amber-400 px-2 py-0.5 rounded-full font-bold",children:["Neste: LVL ",(s.level||1)+1]})]}),e.jsx("p",{className:"text-slate-400 text-xs mb-4 leading-relaxed italic",children:'"En sterkere festning gir angriperne mer motstand i porten og gir bueskytterne dine bedre vinkler."'}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex justify-between text-[10px] text-slate-300",children:[e.jsx("span",{children:"Kostnad:"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("span",{className:`flex items-center gap-1 ${(r.resources.gold||0)<(s.level||1)*5e3?"text-red-500 font-bold":""}`,children:[(s.level||1)*5e3," ",e.jsx(m,{resource:"gold",size:"sm"})]}),e.jsxs("span",{className:`flex items-center gap-1 ${(r.resources.stone||0)<(s.level||1)*100?"text-red-500 font-bold":""}`,children:[(s.level||1)*100," ",e.jsx(m,{resource:"stone",size:"sm"})]}),e.jsxs("span",{className:`flex items-center gap-1 ${(r.resources.wood||0)<(s.level||1)*100?"text-red-500 font-bold":""}`,children:[(s.level||1)*100," ",e.jsx(m,{resource:"wood",size:"sm"})]})]})]})})]}),e.jsx(t,{variant:"primary",className:"w-full mt-4 bg-amber-600 hover:bg-amber-500 border-amber-400 py-3",disabled:!!i||(r.resources.gold||0)<(s.level||1)*5e3||(r.resources.stone||0)<(s.level||1)*100||(r.resources.wood||0)<(s.level||1)*100,onClick:()=>a({type:"UPGRADE_FORTIFICATION"}),children:"Oppgrader Festning"})]})]}),e.jsxs("div",{className:"bg-rose-950/10 border border-rose-500/10 rounded-3xl p-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:e.jsx(h,{className:"w-32 h-32 text-rose-500"})}),e.jsxs("h3",{className:"text-white font-display font-bold text-2xl mb-6 flex items-center gap-3 relative z-10",children:[e.jsx(h,{className:"w-6 h-6 text-rose-500"}),"Slottets Garnison"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative z-10",children:[e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/5 hover:border-rose-500/20 transition-colors",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-rose-500/10 p-3 rounded-xl border border-rose-500/20",children:e.jsx(h,{className:"w-8 h-8 text-rose-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-black uppercase tracking-tight",children:"Angrepsvåpen"}),e.jsxs("div",{className:"text-rose-400 text-[10px] font-bold uppercase tracking-widest mt-0.5",children:["Lager: ",p.swords," STK"]})]})]})}),e.jsxs("div",{className:"bg-rose-500/5 rounded-xl p-4 mb-6 border border-rose-500/10",children:[e.jsxs("h4",{className:"text-rose-200 text-xs font-bold uppercase mb-1 flex items-center gap-1",children:[e.jsx(x,{className:"w-3 h-3 text-rose-400"})," Strategisk Effekt"]}),e.jsx("p",{className:"text-[11px] text-rose-200/60 leading-relaxed",children:"Hvert 10. sverd i garnisonen øker skaden fra slottets bueskyttere med 1 poeng under en beleiring. Dette gjelder i Borggården (Fase 2)."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[e.jsx("span",{className:"text-slate-500 italic",children:"Din beholdning:"}),e.jsxs("span",{className:"text-white",children:[l," sverd"]})]}),e.jsxs("div",{className:"flex items-center gap-4 px-2",children:[e.jsx("input",{type:"range",min:"1",max:Math.max(1,l),value:d,onChange:c=>k(parseInt(c.target.value)),className:"flex-1 accent-rose-500 h-1.5 rounded-full bg-black/50",disabled:l<1}),e.jsx("span",{className:"w-8 text-center text-sm font-black text-rose-500",children:d})]}),e.jsx(t,{variant:"primary",className:"w-full bg-rose-600 hover:bg-rose-500 border-rose-400 py-4 font-black shadow-lg shadow-rose-900/20",disabled:l<1||!!i,onClick:()=>a({type:"REINFORCE_GARRISON",resource:"siege_sword",amount:d}),children:"Donér til Garnisonen"})]})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/5 hover:border-blue-500/20 transition-colors",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-blue-500/10 p-3 rounded-xl border border-blue-500/20",children:e.jsx(F,{className:"w-8 h-8 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-black uppercase tracking-tight",children:"Forsvarsrustning"}),e.jsxs("div",{className:"text-blue-400 text-[10px] font-bold uppercase tracking-widest mt-0.5",children:["Lager: ",p.armor," STK"]})]})]})}),e.jsxs("div",{className:"bg-blue-500/5 rounded-xl p-4 mb-6 border border-blue-500/10",children:[e.jsxs("h4",{className:"text-blue-200 text-xs font-bold uppercase mb-1 flex items-center gap-1",children:[e.jsx(x,{className:"w-3 h-3 text-blue-400"})," Strategisk Effekt"]}),e.jsx("p",{className:"text-[11px] text-blue-200/60 leading-relaxed",children:"Donert rustning øker Garnisonssjefens HP i Borggården og gir herskeren en kraftig rustnings-buffer i Tronsalen (Fase 3)."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[e.jsx("span",{className:"text-slate-500 italic",children:"Din beholdning:"}),e.jsxs("span",{className:"text-white",children:[n," rustning"]})]}),e.jsxs("div",{className:"flex items-center gap-4 px-2",children:[e.jsx("input",{type:"range",min:"1",max:Math.max(1,n),value:o,onChange:c=>y(parseInt(c.target.value)),className:"flex-1 accent-blue-500 h-1.5 rounded-full bg-black/50",disabled:n<1}),e.jsx("span",{className:"w-8 text-center text-sm font-black text-blue-500",children:o})]}),e.jsx(t,{variant:"primary",className:"w-full bg-blue-600 hover:bg-blue-500 border-blue-400 py-4 font-black shadow-lg shadow-blue-900/20",disabled:n<1||!!i,onClick:()=>a({type:"REINFORCE_GARRISON",resource:"siege_armor",amount:o}),children:"Styrk Forsvaret"})]})]})]})]})]})})};export{T as SimulationWarRoom};
